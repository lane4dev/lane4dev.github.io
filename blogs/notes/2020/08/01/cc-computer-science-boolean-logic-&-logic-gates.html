<!DOCTYPE html>
<html lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>第三节：布尔逻辑 和 逻辑门 | lane4dev</title>
<meta name="generator" content="Jekyll v4.3.1">
<meta property="og:title" content="第三节：布尔逻辑 和 逻辑门">
<meta name="author" content="Tang Yu">
<meta property="og:locale" content="zh">
<meta name="description" content="Recall 什么是二进制，为什么用二进制，布尔逻辑？ NOT、AND、OR 的逻辑是什么样的？电路是什么样的？ Notes 二进制 In Computers, an “on” state, when electricity is flowing, represents true. the “off” state, on electricity flowing represents false. 为什么采用二进制？ 状态越多，越难区分信号（早期某些电子计算机是三进制、五进制） George Boole Boole’s approach allowed truth to be systematically and formally proven, through logic equations which he introduced in his first book, “The Mathematical analysis of logic” in 1847. 在布尔代数，变量值为 true 和 false，并对这些变量进行逻辑处理。布尔代数中有三个操作：“非”，“与”，“或”。 三个基本操作：NOT, AND, OR NOT AND OR XOR 当计算机工程师在设计处理器时，很少会在晶体管在这个层面工作。作为代替，他们通常使用更大的区块，例如逻辑门。或者由逻辑门组成的更大的组件。 通过掌握逻辑门，我们可以使用它构建一个鉴定复杂逻辑命题的机器。">
<meta property="og:description" content="Recall 什么是二进制，为什么用二进制，布尔逻辑？ NOT、AND、OR 的逻辑是什么样的？电路是什么样的？ Notes 二进制 In Computers, an “on” state, when electricity is flowing, represents true. the “off” state, on electricity flowing represents false. 为什么采用二进制？ 状态越多，越难区分信号（早期某些电子计算机是三进制、五进制） George Boole Boole’s approach allowed truth to be systematically and formally proven, through logic equations which he introduced in his first book, “The Mathematical analysis of logic” in 1847. 在布尔代数，变量值为 true 和 false，并对这些变量进行逻辑处理。布尔代数中有三个操作：“非”，“与”，“或”。 三个基本操作：NOT, AND, OR NOT AND OR XOR 当计算机工程师在设计处理器时，很少会在晶体管在这个层面工作。作为代替，他们通常使用更大的区块，例如逻辑门。或者由逻辑门组成的更大的组件。 通过掌握逻辑门，我们可以使用它构建一个鉴定复杂逻辑命题的机器。">
<link rel="canonical" href="/blogs/notes/2020/08/01/cc-computer-science-boolean-logic-&amp;-logic-gates.html">
<meta property="og:url" content="/blogs/notes/2020/08/01/cc-computer-science-boolean-logic-&amp;-logic-gates.html">
<meta property="og:site_name" content="lane4dev">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-08-01T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="第三节：布尔逻辑 和 逻辑门">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Tang Yu"},"dateModified":"2020-08-01T00:00:00+00:00","datePublished":"2020-08-01T00:00:00+00:00","description":"Recall 什么是二进制，为什么用二进制，布尔逻辑？ NOT、AND、OR 的逻辑是什么样的？电路是什么样的？ Notes 二进制 In Computers, an “on” state, when electricity is flowing, represents true. the “off” state, on electricity flowing represents false. 为什么采用二进制？ 状态越多，越难区分信号（早期某些电子计算机是三进制、五进制） George Boole Boole’s approach allowed truth to be systematically and formally proven, through logic equations which he introduced in his first book, “The Mathematical analysis of logic” in 1847. 在布尔代数，变量值为 true 和 false，并对这些变量进行逻辑处理。布尔代数中有三个操作：“非”，“与”，“或”。 三个基本操作：NOT, AND, OR NOT AND OR XOR 当计算机工程师在设计处理器时，很少会在晶体管在这个层面工作。作为代替，他们通常使用更大的区块，例如逻辑门。或者由逻辑门组成的更大的组件。 通过掌握逻辑门，我们可以使用它构建一个鉴定复杂逻辑命题的机器。","headline":"第三节：布尔逻辑 和 逻辑门","mainEntityOfPage":{"@type":"WebPage","@id":"/blogs/notes/2020/08/01/cc-computer-science-boolean-logic-&-logic-gates.html"},"url":"/blogs/notes/2020/08/01/cc-computer-science-boolean-logic-&-logic-gates.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="shortcut icon" href="/assets/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC&amp;display=swap">
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="lane4dev">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: #fff;
    background-color: #ff4e00;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>

</head>
<body>



























































































































<header id="site-header" class="site-header " role="banner">

  <div class="header__wrapper">
    <div class="header__inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/">
  <img class="site-favicon" title="lane4dev" src="/assets/favicon.ico" onerror="this.style.display='none'">
   lane4dev
</a>
</span><nav class="site-nav"><a class="page-link" href="/blogs/">文章</a><a class="page-link" href="/blogs/archives.html">归档</a><a class="page-link" href="/about.html">关于</a>




</nav><!-- drawer menu icon  -->
      <button onclick="onOpenDrawer(this)" class="header-menu__button header-menu__hamburger">
        <svg class="icon--svg header-menu__button-icon">
          <g fill="none" fill-rule="evenodd">
            <path d="M0 0h24v24H0z"></path>
            <path d="M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z" fill="currentColor"></path>
          </g>
        </svg>
      </button>
      <button onclick="onCloseDrawer(this)" class="header-menu__button header-menu__drawer-close">
        <svg class="icon--svg header-menu__button-icon">
          <g fill="none" fill-rule="evenodd">
            <path d="M0 0h24v24H0z"></path>
            <path d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59 7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12 5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z" fill="currentColor"></path>
          </g>
        </svg>
      </button>
    </div>
  </div>

  <div class="header__drawer">
    <div class="header__drawer-container">
      <ul class="header-menu__primary">
<li class="header-menu__primary-item">
          <a class="page-link" href="/blogs/">
            文章
            <svg class="icon--svg page-link__icon" aria-hidden="true">
              <g fill="none" fill-rule="evenodd">
                <path d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 0 0 0-1.41l-6.58-6.6a.996.996 0 1 0-1.41 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z" fill="currentColor"></path>
              </g>
            </svg>
          </a>
        </li>
<li class="header-menu__primary-item">
          <a class="page-link" href="/blogs/archives.html">
            归档
            <svg class="icon--svg page-link__icon" aria-hidden="true">
              <g fill="none" fill-rule="evenodd">
                <path d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 0 0 0-1.41l-6.58-6.6a.996.996 0 1 0-1.41 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z" fill="currentColor"></path>
              </g>
            </svg>
          </a>
        </li>
<li class="header-menu__primary-item">
          <a class="page-link" href="/about.html">
            关于
            <svg class="icon--svg page-link__icon" aria-hidden="true">
              <g fill="none" fill-rule="evenodd">
                <path d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 0 0 0-1.41l-6.58-6.6a.996.996 0 1 0-1.41 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z" fill="currentColor"></path>
              </g>
            </svg>
          </a>
        </li>
</ul>

      <ul class="header-menu__language">




</ul>
    </div>
    <div class="wrapper">
      <div class="site-footer-inner">
<div>Unpublished Work <span class="copyleft">©</span> 2017-2022 Tang Yu</div>
        <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
        generator." href="http://jekyllrb.com/">Jekyll</a> &amp; Based on <a title="Yat, yet
        another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
        <div class="footer-col rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a>
</div>
      </div>
    </div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function (e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);

  function onOpenDrawer() {
    var documentElement = document.documentElement;
    var siteHeaderElement = document.getElementById('site-header');siteHeaderElement.classList.add('header--nav-open');
    documentElement.classList.add('global-disable-scroll');
  }

  function onCloseDrawer() {
    var documentElement = document.documentElement;
    var siteHeaderElement = document.getElementById('site-header');siteHeaderElement.classList.remove('header--nav-open');
    documentElement.classList.remove('global-disable-scroll');
  }
</script>
















































































































































<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<div id="click-to-top" class="click-to-top">
  <i class="fa fa-arrow-up"></i>
</div>
<script>
  (function () {
    const clickToTop = document.getElementById('click-to-top');
    window.addEventListener('scroll', () => {
      const atPositionTop = window.scrollY > 100;
      const atPositionBottom = (window.innerHeight + window.scrollY) < (document.body.offsetHeight - 100);
      if (atPositionTop && atPositionBottom) {
        clickToTop.classList.add('show')
      } else {
        clickToTop.classList.remove('show')
      }
    });
    clickToTop.addEventListener('click', () => {
      window.smoothScrollTo(0);
    });
  })();
</script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="framework">
  <section class="main">

    <div class="post">
  <section>









<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">第三节：布尔逻辑 和 逻辑门</h1>
  <h2 class="post-subtitle">Crash Course 计算机科学系列课程笔记</h2>

  <p class="post-meta">
    <time class="dt-published" datetime="2020-08-01T00:00:00+00:00" itemprop="datePublished"><i class="fa fa-calendar"></i> Aug 01, 2020
    </time>

    
    
































    <span class="post-reading-time left-vsplit"><i class="fa fa-clock-o"></i> About 2 mins</span>
  </p>
<div class="post-tags">
<a class="post-tag" href="/blogs/tags.html#crash%20course">#crash course</a><a class="post-tag" href="/blogs/tags.html#EECS">#EECS</a>
</div></header>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <p><iframe id="media-gI-qXk7XojA" class="media" src="https://www.youtube.com/embed/gI-qXk7XojA" title="" width="100%" height="350" style="max-width: 600px;outline: none" allow="encrypted-media; picture-in-picture" frameborder="0" allowfullscreen></iframe></p>

<h2 id="recall">Recall</h2>

<p>什么是二进制，为什么用二进制，布尔逻辑？<br>
NOT、AND、OR 的逻辑是什么样的？电路是什么样的？</p>

<h2 id="notes">Notes</h2>

<h3 id="二进制">二进制</h3>

<blockquote>
  <p>In Computers, an “on” state, when electricity is flowing, represents true. the “off” state, on electricity flowing represents false.</p>
</blockquote>

<ul>
  <li>
    <p>为什么采用二进制？<br>
状态越多，越难区分信号（早期某些电子计算机是三进制、五进制）<br>
<img src="/assets/images/2020/08/01-01.png" alt="01-01.png"></p>
  </li>
  <li>
    <p>George Boole</p>
    <blockquote>
      <p>Boole’s approach allowed truth to be systematically and formally proven, through logic equations which he introduced in his first book, “The Mathematical analysis of logic” in 1847.</p>
    </blockquote>

    <p>在布尔代数，变量值为 true 和 false，并对这些变量进行逻辑处理。布尔代数中有三个操作：“非”，“与”，“或”。</p>
  </li>
</ul>

<h3 id="三个基本操作not-and-or">三个基本操作：NOT, AND, OR</h3>

<ul>
  <li>
    <p>NOT
<img src="/assets/images/2020/08/01-02.png" alt="01-02.png"></p>
  </li>
  <li>
    <p>AND
<img src="/assets/images/2020/08/01-03.png" alt="01-03.png"></p>
  </li>
  <li>
    <p>OR
<img src="/assets/images/2020/08/01-04.png" alt="01-04.png"></p>
  </li>
  <li>
    <p>XOR
<img src="/assets/images/2020/08/01-05.png" alt="01-05.png"></p>
  </li>
</ul>

<p>当计算机工程师在设计处理器时，很少会在晶体管在这个层面工作。作为代替，他们通常使用更大的区块，例如逻辑门。或者由逻辑门组成的更大的组件。</p>

<p>通过掌握逻辑门，我们可以使用它构建一个鉴定复杂逻辑命题的机器。</p>


    </div>

</article>
<div class="post-nav">
<a class="previous" href="/blogs/notes/2020/07/25/cc-computer-science-electronic-computing.html" title="第二节：电子计算机">第二节：电子计算机</a><a class="next" href="/blogs/thoughts/2022/03/24/about-how-to-read-papers.html" title="关于如何高效阅读机器学习专业论文">关于如何高效阅读机器学习专业论文</a>
</div>
<div class="post-related">
      <div>相关文章</div>
      <ul>
        
          
          
          
          
            <li><a class="post-link" href="/blogs/notes/2020/07/25/cc-computer-science-electronic-computing.html" title="关于如何高效阅读机器学习专业论文">第二节：电子计算机</a></li>
          
            <li><a class="post-link" href="/blogs/notes/2020/07/18/cc-computer-science-early-computing.html" title="关于如何高效阅读机器学习专业论文">第一节：计算机早期历史</a></li>
          
          
          
          
          
          
          
          
          
          </ul>
    </div>
<div class="post-comments"></div></section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">目录</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
      <div class="site-footer-text">
<div>Unpublished Work <span class="copyleft">©</span> 2017-2022 Tang Yu</div>
        <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
        generator." href="http://jekyllrb.com/">Jekyll</a> &amp; Based on <a title="Yat, yet
        another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
        <div class="footer-col rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a>
</div>
      </div>
      <div class="theme-toggle-wrapper">
<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('auto' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
</div>
    </div>
  </div>
</footer>
</body>

</html>
